<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/43eb335bdae17437.css" as="style"/><link rel="stylesheet" href="/_next/static/css/43eb335bdae17437.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7ee66019f7f6d30f.js" defer=""></script><script src="/_next/static/chunks/framework-9b5d6ec4444c80fa.js" defer=""></script><script src="/_next/static/chunks/main-3123a443c688934f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0e6b46beaaa55ac1.js" defer=""></script><script src="/_next/static/chunks/664-ac1349529b76e794.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-2c5bdb85a52b66ac.js" defer=""></script><script src="/_next/static/OIsI3iv-vCp0_DuCVm5_c/_buildManifest.js" defer=""></script><script src="/_next/static/OIsI3iv-vCp0_DuCVm5_c/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div><div class="sticky top-0 z-40 w-full h-20 bg-header bg-top flex-none flex space-x-4"><div class="flex-none pl-4 flex items-center border-b border-gray-200"><div class="overflow-hidden w-auto"><h1>Todo: svg icon</h1></div></div><button type="button" class="group leading-6 font-medium flex items-center space-x-3 sm:space-x-4 hover:text-gray-600 transition-colors duration-200 w-full py-2"><span>Todo:icon<span class="hidden sm:inline"> 一切</span></span><span>搜索一切</span></button><div class="flex items-center space-x-6 ml-6 w-30"><div class="text-base leading-6 font-medium hover:text-gray-600 transition-colors duration-200 py-2 w-10"><a href="/"><span class="inline">首页</span></a></div><div class="text-base leading-6 font-medium hover:text-gray-600 transition-colors duration-200 py-2 w-10"><a href="/posts"><span class="inline">文档</span></a></div><div class="text-base leading-6 font-medium hover:text-gray-600 transition-colors duration-200 py-2 w-10"><a href="/"><span class="inline">计划</span></a></div></div></div></div><div><p>#Just for test</p></div><div><div class="flex flex-col sm:flex-row items-center sm:justify-between pt-10 sm:pt-12"><h1>Todo: svg icon</h1><h1>This website is for personal learning</h1></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blogs":[{"code":"var Component=(()=\u003e{var d=Object.create;var r=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var g=(i,e)=\u003e()=\u003e(e||i((e={exports:{}}).exports,e),e.exports),b=(i,e)=\u003e{for(var t in e)r(i,t,{get:e[t],enumerable:!0})},s=(i,e,t,o)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let l of p(e))!x.call(i,l)\u0026\u0026l!==t\u0026\u0026r(i,l,{get:()=\u003ee[l],enumerable:!(o=m(e,l))||o.enumerable});return i};var f=(i,e,t)=\u003e(t=i!=null?d(u(i)):{},s(e||!i||!i.__esModule?r(t,\"default\",{value:i,enumerable:!0}):t,i)),j=i=\u003es(r({},\"__esModule\",{value:!0}),i);var c=g((M,a)=\u003e{a.exports=_jsx_runtime});var w={};b(w,{default:()=\u003ek,frontmatter:()=\u003eT});var n=f(c()),T={title:\"Example\",slug:\"example\",description:\"This is some description\"};function h(i){let e=Object.assign({h1:\"h1\",p:\"p\",em:\"em\",strong:\"strong\",h2:\"h2\",blockquote:\"blockquote\",ol:\"ol\",li:\"li\",ul:\"ul\"},i.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"Markdown example\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"This is an \",(0,n.jsx)(e.em,{children:(0,n.jsx)(e.strong,{children:\"markdown\"})}),` example.\nThis line should be in same paragraph of the above.`]}),`\n`,(0,n.jsx)(e.p,{children:\"To start a new paragraph.\"}),`\n`,(0,n.jsx)(e.h2,{children:\"meta data\"}),`\n`,(0,n.jsx)(e.p,{children:\"This example has four meta data: title,slug,published,description.\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"This is a cite, and below is a list example.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"First item\"}),`\n`,(0,n.jsx)(e.li,{children:\"Second item\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Third item\",`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Indented item\"}),`\n`,(0,n.jsx)(e.li,{children:\"Indented item\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.li,{children:\"Fourth item\"}),`\n`]})]})}function _(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,Object.assign({},i,{children:(0,n.jsx)(h,i)})):h(i)}var k=_;return j(w);})();\n;return Component;","frontmatter":{"title":"Example","slug":"example","description":"This is some description"},"errors":[],"matter":{"content":"\n\n# Markdown example\nThis is an ***markdown*** example.\nThis line should be in same paragraph of the above.\n\nTo start a new paragraph.\n\n## meta data\n\nThis example has four meta data: title,slug,published,description.\n\n\u003e This is a cite, and below is a list example.\n\n1. First item\n2. Second item\n3. Third item\n   - Indented item\n   - Indented item\n4. Fourth item","data":{"title":"Example","slug":"example","description":"This is some description"},"isEmpty":false,"excerpt":""}},{"code":"var Component=(()=\u003e{var d=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var S=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),b=(n,e)=\u003e{for(var r in e)i(n,r,{get:e[r],enumerable:!0})},o=(n,e,r,c)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let t of p(e))!m.call(n,t)\u0026\u0026t!==r\u0026\u0026i(n,t,{get:()=\u003ee[t],enumerable:!(c=u(e,t))||c.enumerable});return n};var f=(n,e,r)=\u003e(r=n!=null?d(D(n)):{},o(e||!n||!n.__esModule?i(r,\"default\",{value:n,enumerable:!0}):r,n)),g=n=\u003eo(i({},\"__esModule\",{value:!0}),n);var h=S((C,s)=\u003e{s.exports=_jsx_runtime});var B={};b(B,{default:()=\u003eA,frontmatter:()=\u003ew});var a=f(h()),w={title:\"Durable Write Cache in Flash Memory SSD for Relational and NoSQL Databases\",slug:\"paper_reading_22_09_09\",description:\"A durable cache design made by a Tantalum capacitors, which makes DRAM cache durability.\",keywords:\"Durability, SSD, Durable Cache,\"};function l(n){let e=Object.assign({h1:\"h1\",h2:\"h2\",p:\"p\"},n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{children:\"Durable Write Cache in Flash Memory SSD for Relational and NoSQL Databases\"}),`\n`,(0,a.jsx)(e.h2,{children:\"DuraSSD\"}),`\n`,(0,a.jsx)(e.p,{children:\"\\u6301\\u4E45\\u6027\\u7684\\u7535\\u5BB9 \\u5237cache \\u975E\\u6613\\u5931\\u6027DRAM Cache\"}),`\n`,(0,a.jsx)(e.h2,{children:\"Motivation\"}),`\n`,(0,a.jsx)(e.p,{children:`SSD \\u8BFB\\u64CD\\u4F5C\\u53EF\\u80FD\\u88AB\\u5199\\u64CD\\u4F5C\\u5F71\\u54CD\\u5EF6\\u8FDF\\uFF1ADirty Page Set-\u003e Flush-\u003e Page Read.\nNo redundant write for atomicity. \\u8D85\\u7EA7\\u7535\\u5BB9\\uFF1ADRAM cache\nPrevent reads blocked by writes.\nFsync\\u5BF9\\u4E0D\\u540C\\u4ECB\\u8D28\\u7684\\u5F71\\u54CD\\uFF0C\\u63D0\\u5347\\u500D\\u7387HDD \u003c SSD. SSD cache size \\u4E0D\\u89C1\\u5F97\\u8D8A\\u5927\\u8D8A\\u597D\n4KB page size \\u6BD4 16KB page size \\u7684 Random IOPS \\u66F4\\u597D\\uFF0C`}),`\n`,(0,a.jsx)(e.h2,{children:\"Design\"}),`\n`,(0,a.jsx)(e.p,{children:`\\u4E00\\u4E2A\\u8D85\\u7EA7\\u7535\\u5BB9\\uFF0C\\u5C06Buffer cache\\u4E2D\\u7684\\u5185\\u5BB9\\u5728crash\\u65F6\\u653E\\u5165Dump Area\\u4FDD\\u8BC1\\u539F\\u5B50\\u6027\\u3002\nBuffer pool: set of queues.\nMapping table: mapping between 4KB and 8KB NAND page (8KB NAND page\\u4E00\\u822C\\u662F\\u5199\\u64CD\\u4F5Cflash page\\u7684\\u5355\\u5143.Flash page \\u4E0D\\u80FD\\u76F4\\u63A5rewrite\\u5FC5\\u987B\\u5148\\u64E6\\u9664\\u518D\\u5199.)\nAtomic writer: dump area.\nRecovery manager`}),`\n`,(0,a.jsx)(e.h2,{children:\"Evaluation\"}),`\n`,(0,a.jsx)(e.p,{children:\"Benchmarks: LinkBench, YCSB, TPC-C.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Intel Xeon (R) E5-4620 CPU, 384GB DRAM, two 480GB DuraSSD with SATA 3.0 interface\"}),`\n`,(0,a.jsx)(e.p,{children:\"write-barrier/double-write-buffer, buffer pool size.\"}),`\n`,(0,a.jsx)(e.h2,{children:\"Conclusion\"}),`\n`,(0,a.jsx)(e.p,{children:`Interests: Implement real duraSSD not simulation.\nRelated: EADR`})]})}function y(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,Object.assign({},n,{children:(0,a.jsx)(l,n)})):l(n)}var A=y;return g(B);})();\n;return Component;","frontmatter":{"title":"Durable Write Cache in Flash Memory SSD for Relational and NoSQL Databases","slug":"paper_reading_22_09_09","description":"A durable cache design made by a Tantalum capacitors, which makes DRAM cache durability.","keywords":"Durability, SSD, Durable Cache,"},"errors":[],"matter":{"content":"\n# Durable Write Cache in Flash Memory SSD for Relational and NoSQL Databases\n\n## DuraSSD\n持久性的电容 刷cache 非易失性DRAM Cache\n\n## Motivation\nSSD 读操作可能被写操作影响延迟：Dirty Page Set-\u003e Flush-\u003e Page Read.\nNo redundant write for atomicity. 超级电容：DRAM cache\nPrevent reads blocked by writes. \nFsync对不同介质的影响，提升倍率HDD \u003c SSD. SSD cache size 不见得越大越好\n4KB page size 比 16KB page size 的 Random IOPS 更好，\n\n## Design\n一个超级电容，将Buffer cache中的内容在crash时放入Dump Area保证原子性。\nBuffer pool: set of queues.\nMapping table: mapping between 4KB and 8KB NAND page (8KB NAND page一般是写操作flash page的单元.Flash page 不能直接rewrite必须先擦除再写.)\nAtomic writer: dump area.\nRecovery manager \n\n## Evaluation\nBenchmarks: LinkBench, YCSB, TPC-C.\n\nIntel Xeon (R) E5-4620 CPU, 384GB DRAM, two 480GB DuraSSD with SATA 3.0 interface\n\nwrite-barrier/double-write-buffer, buffer pool size.\n\n## Conclusion\nInterests: Implement real duraSSD not simulation.\nRelated: EADR","data":{"title":"Durable Write Cache in Flash Memory SSD for Relational and NoSQL Databases","slug":"paper_reading_22_09_09","description":"A durable cache design made by a Tantalum capacitors, which makes DRAM cache durability.","keywords":"Durability, SSD, Durable Cache,"},"isEmpty":false,"excerpt":""}},{"code":"var Component=(()=\u003e{var h=Object.create;var i=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var y=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),P=(n,e)=\u003e{for(var t in e)i(n,t,{get:e[t],enumerable:!0})},l=(n,e,t,s)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let c of A(e))!u.call(n,c)\u0026\u0026c!==t\u0026\u0026i(n,c,{get:()=\u003ee[c],enumerable:!(s=p(e,c))||s.enumerable});return n};var S=(n,e,t)=\u003e(t=n!=null?h(m(n)):{},l(e||!n||!n.__esModule?i(t,\"default\",{value:n,enumerable:!0}):t,n)),_=n=\u003el(i({},\"__esModule\",{value:!0}),n);var a=y((v,o)=\u003e{o.exports=_jsx_runtime});var x={};P(x,{default:()=\u003eM,frontmatter:()=\u003ef});var r=S(a()),f={title:\"ASAP: A Speculative Approach to Persistence\",slug:\"paper_reading_22_09_15\",description:\"NVM\",keywords:\"NVM, memory fence\"};function d(n){let e=Object.assign({h1:\"h1\",p:\"p\",ol:\"ol\",li:\"li\"},n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{children:\"ASAP: A Speculative Approach to Persistence\"}),`\n`,(0,r.jsx)(e.h1,{children:\"Intr\"}),`\n`,(0,r.jsx)(e.p,{children:`\\u6301\\u4E45\\u6027\\u5185\\u5B58\\u4F7F\\u5F97\\u53EF\\u6062\\u590D\\u5E94\\u7528(recoverable)\\u6210\\u4E3A\\u53EF\\u80FD\\uFF0C\n\\u4F46\\u662F\\u7A0B\\u5E8F\\u8BBE\\u8BA1\\u8005\\u5FC5\\u987B\\u786E\\u4FDD\\u6570\\u636E\\u88AB\\u5237\\u5230\\u53EF\\u6301\\u4E45\\u5316\\u533A\\u57DF\\uFF0C\n\\u8FD9\\u4E9B\\u7F13\\u5B58\\u5199\\u56DE\\u6307\\u4EE4\\u4F1A\\u5F15\\u8D77\\u957F\\u65F6\\u95F4\\u7684\\u505C\\u987F\\u3002\n\\u540C\\u65F6\\u7531\\u4E8Ecpu\\u548Cmemory controller\\u7684\\u91CD\\u65B0\\u6392\\u5E8F\\uFF0C\n\\u8BBE\\u8BA1\\u8005\\u4E0D\\u5F97\\u4E0D\\u901A\\u8FC7\\u6602\\u8D35\\u7684\\u6805\\u680F\\u6307\\u4EE4(fence)\\u786E\\u4FDD\\u5237\\u65B0\\u987A\\u5E8F\\u3002`}),`\n`,(0,r.jsx)(e.h1,{children:\"Key idea\"}),`\n`,(0,r.jsx)(e.p,{children:`ASAP\\uFF1A \\u53EA\\u6709\\u5728\\u53D1\\u751F\\u6545\\u969C\\u65F6\\u624D\\u9700\\u8981\\u5F3A\\u5236\\u6392\\u5E8F\\u3002\nASAP\\u4E50\\u89C2\\u7684\\u5237\\u65B0\\u5199\\u5165\\u5E76\\u5B58\\u50A8\\u8DB3\\u591F\\u7684\\u4FE1\\u606F\\uFF0C\\u5728\\u6545\\u969C\\u65F6\\u66F4\\u6B63\\u5185\\u5B58\\u5185\\u5BB9\\u3002\nASAP\\u4F1A\\u4E3A\\u6240\\u6709\\u65E0\\u5E8F\\u66F4\\u65B0\\u5185\\u5BB9\\u7EF4\\u62A4\\u4E00\\u4E2A\\u64A4\\u9500\\u65E5\\u5FD7(undo log)\\u3002\n\\u5C06\\u64A4\\u9500\\u65E5\\u5FD7\\u5199\\u5165NVM\\u4F1A\\u5BFC\\u81F4\\u989D\\u5916\\u5199\\u653E\\u5927\\uFF0C\n\\u56E0\\u6B64ASAP\\u4F7F\\u7528intel\\u5F02\\u6B65DRAM\\u5237\\u65B0(ADR)\\u6765\\u5C06\\u4FE1\\u606F\\u5B58\\u5728memory controller\\u4E2D\\u3002\nADR\\u5141\\u8BB8\\u6545\\u969C\\u53D1\\u751F\\u65F6\\u5C06\\u5C11\\u91CF\\u6570\\u636E\\u4ECE\\u5185\\u5B58\\u63A7\\u5236\\u5668\\u5199\\u56DENVM\\u3002`}),`\n`,(0,r.jsx)(e.h1,{children:\"Persistency Models\"}),`\n`,(0,r.jsx)(e.p,{children:`ISA-level persistency models:\nStrict persistency\nEpoch persistency\nStrand persistency\nLanguage-Level Persistency:\nAcquire-Release Persistency\nRelease Persistency`}),`\n`,(0,r.jsx)(e.h1,{children:\"Motivation\"}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsx)(e.li,{children:\"Avoid flushing stalls in a multi-core multi-memory controller system\"}),`\n`,(0,r.jsx)(e.li,{children:\"handle cross dependencies efficiently\"}),`\n`]})]})}function g(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,Object.assign({},n,{children:(0,r.jsx)(d,n)})):d(n)}var M=g;return _(x);})();\n;return Component;","frontmatter":{"title":"ASAP: A Speculative Approach to Persistence","slug":"paper_reading_22_09_15","description":"NVM","keywords":"NVM, memory fence"},"errors":[],"matter":{"content":"\n# ASAP: A Speculative Approach to Persistence\n\n# Intr\n持久性内存使得可恢复应用(recoverable)成为可能，\n但是程序设计者必须确保数据被刷到可持久化区域，\n这些缓存写回指令会引起长时间的停顿。\n同时由于cpu和memory controller的重新排序，\n设计者不得不通过昂贵的栅栏指令(fence)确保刷新顺序。\n\n# Key idea\nASAP： 只有在发生故障时才需要强制排序。\nASAP乐观的刷新写入并存储足够的信息，在故障时更正内存内容。\nASAP会为所有无序更新内容维护一个撤销日志(undo log)。\n将撤销日志写入NVM会导致额外写放大，\n因此ASAP使用intel异步DRAM刷新(ADR)来将信息存在memory controller中。\nADR允许故障发生时将少量数据从内存控制器写回NVM。\n\n# Persistency Models\nISA-level persistency models:\n   Strict persistency \n   Epoch persistency\n   Strand persistency\nLanguage-Level Persistency:\n   Acquire-Release Persistency\n   Release Persistency \n\n# Motivation\n1. Avoid flushing stalls in a multi-core multi-memory controller system\n2. handle cross dependencies efficiently","data":{"title":"ASAP: A Speculative Approach to Persistence","slug":"paper_reading_22_09_15","description":"NVM","keywords":"NVM, memory fence"},"isEmpty":false,"excerpt":""}},{"code":"var Component=(()=\u003e{var p=Object.create;var o=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var l=(t,e)=\u003e()=\u003e(e||t((e={exports:{}}).exports,e),e.exports),_=(t,e)=\u003e{for(var n in e)o(t,n,{get:e[n],enumerable:!0})},i=(t,e,n,c)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of d(e))!j.call(t,s)\u0026\u0026s!==n\u0026\u0026o(t,s,{get:()=\u003ee[s],enumerable:!(c=x(e,s))||c.enumerable});return t};var g=(t,e,n)=\u003e(n=t!=null?p(f(t)):{},i(e||!t||!t.__esModule?o(n,\"default\",{value:t,enumerable:!0}):n,t)),h=t=\u003ei(o({},\"__esModule\",{value:!0}),t);var a=l((T,u)=\u003e{u.exports=_jsx_runtime});var D={};_(D,{default:()=\u003eC,frontmatter:()=\u003eM});var r=g(a()),M={title:\"Test\",slug:\"test\",description:\"This is some description\"};function m(t){let e=Object.assign({p:\"p\"},t.components);return(0,r.jsx)(e.p,{children:\"#Just for test\"})}function b(t={}){let{wrapper:e}=t.components||{};return e?(0,r.jsx)(e,Object.assign({},t,{children:(0,r.jsx)(m,t)})):m(t)}var C=b;return h(D);})();\n;return Component;","frontmatter":{"title":"Test","slug":"test","description":"This is some description"},"errors":[],"matter":{"content":"\n#Just for test","data":{"title":"Test","slug":"test","description":"This is some description"},"isEmpty":false,"excerpt":""}}]},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"test"},"buildId":"OIsI3iv-vCp0_DuCVm5_c","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>